# Add global `--output` with `json|yaml|table`

**Labels:** `epic:ci`, `type:feature`, `prio:high`  
**Milestone:** v0.4 — CI/CD & Automation Ready  
**Epic:** Non-interactive + CI-friendly behavior

## Description

Introduce a global output selector for consistent machine-readable output. This enables CI/CD pipelines and automation scripts to reliably parse command output.

## Current Status

✅ **Partially Implemented**: Global `--output` flag exists with support for `json`, `csv`, `table`, and `plain` formats. Auto-detection works when output is piped (defaults to JSON).

## Acceptance Criteria

- ✅ `raps ... --output json` prints valid JSON to stdout (IMPLEMENTED)
- ✅ `--output table` matches current human-readable behavior (IMPLEMENTED)
- ✅ `--output csv` and `--output plain` supported (IMPLEMENTED)
- ❌ `--output yaml` supported (NOT IMPLEMENTED - can be deferred to v0.5)
- ⚠️ Documented in README + each relevant command page (NEEDS REVIEW)
- ⚠️ Tests cover JSON schema stability for at least 5 representative commands (NEEDS VERIFICATION)

## Additional Requirements

- Ensure all commands consistently use the output format (some may still print directly to stdout)
- Add YAML support (requires `serde_yaml` dependency)
- Verify JSON output is stable across all commands
- Document output format behavior in command-specific docs

## Notes

This is a foundational feature for CI/CD adoption. The JSON output must be stable and well-documented to enable reliable automation.

